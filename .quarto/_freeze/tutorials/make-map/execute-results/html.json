{
  "hash": "897b58a1c1db3c4674886f83829c098b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Making the first map in R\"\npage-layout: article\n---\n\n\n\n## Overview\n\nIn this tutorial, you will create a map that shows the range of African Elephant. You will use R's `sf` and `tmap` packages to complete the task. ![Range map](https://imgur.com/RcyJRFq)\n\n## Set the working directory\n\nThe `setwd()` function is used to set a working directory The command below sets the rgis folder located in folder in Documents as a working directory.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# setwd(\"C:\\\\Users\\\\devmbeya\\\\Downloads\\\\gis-remote-sensing-r\")  #set working directory\n```\n:::\n\n\n\nTo check the working directory we use the \\`getwd() function. It will give you file path to the current directory.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# getwd() \n```\n:::\n\n\n\n## Load packages\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(sf) # package for working with vector data\nlibrary(tmap) # thematic mapping package\n```\n:::\n\n\n\n## Read data\n\nTo read vector data (shapefiles) use the `st_read()` functiom of the `sf` package.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nafrica <- st_read(\"../assets/data/africa.shp\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `africa' from data source \n  `C:\\Users\\devmbeya\\Downloads\\gis-remote-sensing-r\\assets\\data\\africa.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 54 features and 10 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -2823124 ymin: -4139718 xmax: 7068315 ymax: 4486662\nProjected CRS: WGS 84 / Pseudo-Mercator\n```\n\n\n:::\n\n```{.r .cell-code}\nrange <- st_read(\"../assets/data/africa_elephant.shp\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nReading layer `africa_elephant' from data source \n  `C:\\Users\\devmbeya\\Downloads\\gis-remote-sensing-r\\assets\\data\\africa_elephant.shp' \n  using driver `ESRI Shapefile'\nSimple feature collection with 4 features and 8 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -14.89546 ymin: -34.08534 xmax: 44.19669 ymax: 16.63432\nGeodetic CRS:  WGS 84\n```\n\n\n:::\n:::\n\n\n\n## Explore data\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# head(africa)\n# head(range)\n```\n:::\n\n\n\n## Create the map\n\nWe will use the `tmap` map-making package to create maps. While it is possible to create maps using the `plot()` base R function, `tmap` provides advanced options. tmap's `tm_shape()` function is the basic building block. `tm_shape()` defines input data: vector or raster. `tm_shape()` is followed by one or more layer elements such as `tm_fill()`, `tm_borders()`, `tm_polygons()`, `tm_dots()`. We loaded two data sets `Africa` which shows country boundaries and `range` which shows the range of African Elephant.\n\nWe will symbolise the country boundaries fill with `#C3C5B9` color and the Elephant range layer with `#F2D685`.\n\nAdd fill layer to Africa shape\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntm_shape(africa) + \n  tm_fill() +\n  tm_borders(col = \"white\") + \ntm_shape(range) +\n  tm_fill(fill=\"#F2D685\") +\ntm_shape(africa) +\n  tm_borders(col = \"green\")\n```\n\n::: {.cell-output-display}\n![](make-map_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\nTo create a professional map which we can save locally, we will create add more tmap functions. We will add more elements to the map:\n\n-   `tm_title()` adds a title\n-   `tm_text()` adds text\n-   `tm_credits()` adds map credit\n-   `tm_logo()` adds an image\n-   `tm_layout` controls the map layout.\n\nVisit [tmap package website](https://r-tmap.github.io/tmap/) for more information.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nafrica_elephant_range <- tm_shape(africa) + \n  tm_fill(fill =\"#C3C5B9\") +\n  tm_borders(col=\"white\") + \n  tm_shape(range) + \n  tm_fill(\"#F2D685\") + \n  tm_shape(africa) + \n  tm_borders(col = \"white\") + \n  tm_text(\"NAME\", size = 0.6, xmod = 1.4, ymod = 0.8,  alpha=0.5, col = \"black\") + \n  tm_title(\"Known and Possible\\nRange of African\\nElephant\", color = \"#000000\",\n           position =c(0.05, 0.4), fontface = \"bold\", size = 1) +\n  tm_title(\"Botswana has the\\nhighest African Eephant\\npopulation of 130,000\", position =c(0.2, 0.3), size = 0.7)+\n  tm_credits(\"Data Source: ArcGIS Hub and World Population Review\\nCartographer: Dickson Mbeya\\nDate: 21 December 2025\",\n             position = c(\"left\", \"bottom\"),\n             size = 0.6, color =\"#000000\") + \n  tm_credits(\"#R4GISRSTUTORIALS\",\n             fontface = \"italic\",\n             position = c(\"right\", \"bottom\"),\n             size = 0.6, color =\"#000000\") +\n  tm_logo(\"../assets/images/r.png\", position = c(\"right\", \"top\"),height=1) +\n  tm_logo(\"../assets/data/elephant.png\", position = c(\"left\", \"top\"),height=5) + \n  tm_layout(outer.margins = c(0,0,0,0), asp = 1)\n```\n:::\n\n\n\nPlot the map\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nafrica_elephant_range\n```\n\n::: {.cell-output-display}\n![](make-map_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\nTo save a map using `tmap`, you use the `tmap_save()` function.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# tmap_save(africa_elephant_range, \"African Elephant range.png\")\n```\n:::\n",
    "supporting": [
      "make-map_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}